<html>

<head>
  <title>Geometric shapes example</title>
</head>

<body>
  <script src="../lib/agent.js"></script>
  <script>
    const vshr = `
      attribute vec2 aPos;
      attribute vec4 aColor;

      varying vec4 vColor;

      void main() {
        vColor = aColor;
        gl_Position = vec4(aPos, 0.0, 1.0);
      }
    `;
    const fshr = `
      precision mediump float;
      varying vec4 vColor;

      void main() {
        gl_FragColor = vColor;
      }
    `;
    let renderer = new Agent.WebGLRenderer({width: 400, height: 200});
    let square = new Agent.Square(0, 0, 0.25, 0.75);
    let scene = new Agent.Scene();
    let glCtx = renderer.getContext();

    square.setColor(0.0, 0.0, 1.0, 1.0);

    scene.addDrawable(square);
    scene.addShader(glCtx, Agent.ShaderType.Vertex, vshr);
    scene.addShader(glCtx, Agent.ShaderType.Fragment, fshr);

    scene.shader(Agent.ShaderType.Vertex)
      .setVertexAttribFor('aPos', square.vertexAttributes());

    scene.shader(Agent.ShaderType.Vertex)
      .setVertexAttribFor('aColor', square.colorAttributes());

    renderer.render(scene);
  </script>
</body>

</html>